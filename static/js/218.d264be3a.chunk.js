"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[218,54],{3779:function(a,n,e){e(2791);n.Z=e.p+"static/media/transactionSprite.f81084fa89e2f71405e24f42db60dd15.svg"},1218:function(a,n,e){e.r(n),e.d(n,{default:function(){return U}});var t=e(2982),s=e(885),c=e(2791),r=e(9434),o=e(3868),i=e(9831),l=e(1951),d=e(9085),u=(e(5462),e(5607)),m=e(8880),_=e(9104),h=e(5705),x=e(9513),p=e.n(x),b=e(2142),f=e(1724),j=(e(8639),"ModalAddTransaction_backdrop__9YaTy"),v="ModalAddTransaction_modal__Ds58Q",N="ModalAddTransaction_modalForm__+xHlN",T="ModalAddTransaction_closeBtn__PD4qb",D="ModalAddTransaction_modalTitle__5uy28",g="ModalAddTransaction_typeWrapper__zr9tr",y="ModalAddTransaction_typeCheckbox__5CM5W",I="ModalAddTransaction_customCheckbox__Lusq4",M="ModalAddTransaction_inactive__XoOqJ",C="ModalAddTransaction_income__9Qunp ModalAddTransaction_inactive__XoOqJ",w="ModalAddTransaction_expense__FAXIm ModalAddTransaction_inactive__XoOqJ",Z="ModalAddTransaction_typeLabel__xzRI4",E="ModalAddTransaction_amountAndDate__k5cLR",A="ModalAddTransaction_amountInput__qwGJd ModalAddTransaction_amountAndDateInputs__8QD0+",k="ModalAddTransaction_customDateInput__9YfM0 ModalAddTransaction_amountAndDateInputs__8QD0+",R="ModalAddTransaction_calendarIcon__L3BwY",H="ModalAddTransaction_commentInput__h66RA",S="ModalAddTransaction_btnWrapper__FnKSr",q="ModalAddTransaction_addBtn__73b0r",B="ModalAddTransaction_cancelBtn__Cun97 ModalAddTransaction_addBtn__73b0r",O="ModalAddTransaction_chevron__rQ39W",F="ModalAddTransaction_chevronTurn__B5KZn ModalAddTransaction_chevron__rQ39W",L=e(3779),W=e(184),Q=(0,c.forwardRef)((function(a,n){var e=a.value,t=a.onClick;return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("input",{value:e,className:k,onClick:t,onChange:t,ref:n,required:!0}),(0,W.jsx)("svg",{className:R,width:18,height:20,onClick:t,children:(0,W.jsx)("use",{href:L.Z+"#icon-calendar"})})]})})),X=e(1413),Y=e(5930),P=function(a){var n=a.selectProps;return(0,W.jsx)("div",{className:n.menuIsOpen?F:O})},z={control:function(){return{display:"flex",alignItems:"center",border:"none",borderRadius:"0",borderBottom:"1px solid #E0E0E0",padding:"8px",marginBottom:"40px",outline:"none",fontSize:"18px",lineHeight:"1.5",paddingLeft:"20px",":hover":{backgroundColor:"#ff659614"}}},placeholder:function(a){return(0,X.Z)((0,X.Z)({},a),{},{color:"#BDBDBD"})},option:function(a,n){var e=n.isFocused;return(0,X.Z)((0,X.Z)({},a),{},{backgroundColor:e&&"#fff",fontWeight:e&&"700",color:e&&"#FF6596",padding:"14px 0 17px"})},menu:function(a){return(0,X.Z)((0,X.Z)({},a),{},{fontSize:"18px",width:"100%",lineHeight:1.5,paddingLeft:"20px",backgroundColor:"#FFFFFFB2",backdropFilter:"blur(25px)",boxShadow:"0px 6px 15px rgba(0, 0, 0, 0.1)",borderRadius:"20px"})}};function V(a){var n=a.setCategoryId,e=(0,r.v9)(_.us).filter((function(a){return"EXPENSE"===a.type})).map((function(a){return{value:a.id,label:a.name}}));return(0,W.jsx)(Y.ZP,{options:e,onChange:function(a){return n(a.value)},placeholder:"Select a category",styles:z,unstyled:!0,components:{DropdownIndicator:P},required:!0})}function $(){var a=(0,c.useState)(new Date),n=(0,s.Z)(a,2),e=n[0],t=n[1],o=(0,c.useState)(""),i=(0,s.Z)(o,2),l=i[0],d=i[1],u=(0,r.I0)();(0,c.useEffect)((function(){u((0,m.CP)())}),[u]),(0,c.useEffect)((function(){var a=function(a){"Escape"===a.code&&u((0,b.$)())};return document.addEventListener("keydown",a),function(){return document.removeEventListener("keydown",a)}}),[u]);var _=(0,h.TA)({initialValues:{type:!0,amount:"",comment:""},validationSchema:f.Ry({type:f.Xg(),amount:f.Rx().required("Required"),comment:f.Z_().max(40,"40 characters max")}),onSubmit:function(a){var n=a.type,t=a.amount,s=a.comment,c={transactionDate:e,comment:s,categoryId:n?l:"063f1132-ba5d-42b4-951d-44011ca46262",amount:n?-1*Number(t):Number(t),type:n?"EXPENSE":"INCOME"};u((0,m.dT)(c)),u((0,b.$)())}}),x=_.handleChange,k=_.handleSubmit,R=_.values,O=_.errors,F=_.touched;return(0,W.jsx)("div",{className:j,onClick:function(a){a.target===a.currentTarget&&u((0,b.$)())},children:(0,W.jsxs)("div",{className:v,children:[(0,W.jsx)("button",{className:T,onClick:function(){return u((0,b.$)())},type:"button","aria-label":"close button"}),(0,W.jsxs)("form",{className:N,onSubmit:k,children:[(0,W.jsx)("h2",{className:D,children:"Add transaction"}),(0,W.jsxs)("div",{className:g,children:[(0,W.jsx)("div",{className:R.type?M:C,children:"Income"}),(0,W.jsxs)("label",{className:Z,children:[(0,W.jsx)("input",{className:y,name:"type",type:"checkbox",checked:R.type,onChange:x}),(0,W.jsx)("div",{className:I})]}),(0,W.jsx)("div",{className:R.type?w:M,children:"Expense"})]}),R.type&&(0,W.jsx)(V,{setCategoryId:d}),F.categoryId&&O.categoryId?(0,W.jsx)("div",{children:O.categoryId}):null,(0,W.jsxs)("div",{className:E,children:[(0,W.jsx)("input",{className:A,name:"amount",type:"text",placeholder:"0.00",value:R.amount,onChange:x,required:!0}),F.amount&&O.amount?(0,W.jsx)("div",{children:O.amount}):null,(0,W.jsx)(p(),{selected:e,dateFormat:"dd.MM.yyyy",calendarStartDay:1,onChange:t,customInput:(0,W.jsx)(Q,{})})]}),(0,W.jsx)("textarea",{className:H,name:"comment",type:"text",placeholder:"Comment",value:R.comment,onChange:x}),F.comment&&O.comment?(0,W.jsx)("div",{children:O.comment}):null,(0,W.jsxs)("div",{className:S,children:[(0,W.jsx)("button",{className:q,type:"submit",children:"Add"}),(0,W.jsx)("button",{className:B,type:"button",onClick:function(){return u((0,b.$)())},children:"Cancel"})]})]})]})})}var J={transactions:"Transactions_transactions__71ga-",transactionsTable:"Transactions_transactionsTable__dtPaD",tableHeaderData:"Transactions_tableHeaderData__mZexS",tableHeaderDataRight:"Transactions_tableHeaderDataRight__gujHp Transactions_tableHeaderData__mZexS",tableBody:"Transactions_tableBody__mnCJO",tableData:"Transactions_tableData__i3g3I",firstTableData:"Transactions_firstTableData__hSLhT",lastTableData:"Transactions_lastTableData__YuN01",tableDataRight:"Transactions_tableDataRight__k5pQt Transactions_tableData__i3g3I",tableDataIncome:"Transactions_tableDataIncome__YKGXQ Transactions_tableDataRight__k5pQt Transactions_tableData__i3g3I",tableDataExpense:"Transactions_tableDataExpense__X6kvt Transactions_tableDataRight__k5pQt Transactions_tableData__i3g3I",mobTableContainer:"Transactions_mobTableContainer__uF3Hm",mobTransaction:"Transactions_mobTransaction__yseD9",transactionRowIncome:"Transactions_transactionRowIncome__byqUX",transactionRowExpense:"Transactions_transactionRowExpense__Zo5ej Transactions_transactionRowIncome__byqUX",transactionHeader:"Transactions_transactionHeader__VeVKT",transactionData:"Transactions_transactionData__E0V3h",transactionDataIncome:"Transactions_transactionDataIncome__Ngq-x Transactions_transactionData__E0V3h",transactionDataExpense:"Transactions_transactionDataExpense__UjAqw Transactions_transactionData__E0V3h"},K=e(1054);var U=function(){var a=(0,r.v9)(_.Yh),n=(0,r.v9)(_.us),e=(0,r.v9)(_.ig),h=(0,r.v9)(_.zh),x=(0,r.I0)(),p=(0,c.useState)(!1),b=(0,s.Z)(p,2),f=b[0],j=b[1];window.matchMedia("(max-width: 767px)").addEventListener("change",(function(a){a.matches?j(!0):j(!1)})),(0,c.useEffect)((function(){x((0,m.CP)())}),[x]);var v=(0,t.Z)(e).sort((function(a,n){return(0,o.Z)((0,i.default)(a.transactionDate),(0,i.default)(n.transactionDate))}));return h&&d.Am.error(h),f&&(a?(document.body.style.overflow="hidden",document.body.style.position="fixed"):(document.body.style.overflow="visible",document.body.style.position="static")),(0,W.jsxs)("section",{className:J.transactions,children:[(0,W.jsx)(u.Z,{queries:K.mediaQueries,children:function(a){return a.mobile||a.response?(0,W.jsx)("div",{className:J.mobTableContainer,children:v.map((function(a){var e,t=a.id,s=a.transactionDate,c=a.type,r=a.categoryId,o=a.comment,d=a.amount,u=a.balanceAfter;return(0,W.jsxs)("div",{className:J.mobTransaction,children:[(0,W.jsxs)("div",{className:"INCOME"===c?J.transactionRowIncome:J.transactionRowExpense,children:[(0,W.jsx)("p",{className:J.transactionHeader,children:"Date"}),(0,W.jsx)("p",{className:J.transactionData,children:(0,l.default)((0,i.default)(s),"dd.MM.yyyy")})]}),(0,W.jsxs)("div",{className:"INCOME"===c?J.transactionRowIncome:J.transactionRowExpense,children:[(0,W.jsx)("p",{className:J.transactionHeader,children:"Type"}),(0,W.jsx)("p",{className:J.transactionData,children:"INCOME"===c?"+":"-"})]}),(0,W.jsxs)("div",{className:"INCOME"===c?J.transactionRowIncome:J.transactionRowExpense,children:[(0,W.jsx)("p",{className:J.transactionHeader,children:"Category"}),(0,W.jsx)("p",{className:J.transactionData,children:null===(e=n.find((function(a){return a.id===r})))||void 0===e?void 0:e.name})]}),(0,W.jsxs)("div",{className:"INCOME"===c?J.transactionRowIncome:J.transactionRowExpense,children:[(0,W.jsx)("p",{className:J.transactionHeader,children:"Comment"}),(0,W.jsx)("p",{className:J.transactionData,children:o})]}),(0,W.jsxs)("div",{className:"INCOME"===c?J.transactionRowIncome:J.transactionRowExpense,children:[(0,W.jsx)("p",{className:J.transactionHeader,children:"Sum"}),(0,W.jsx)("p",{className:"INCOME"===c?J.transactionDataIncome:J.transactionDataExpense,children:Math.abs(d)})]}),(0,W.jsxs)("div",{className:"INCOME"===c?J.transactionRowIncome:J.transactionRowExpense,children:[(0,W.jsx)("p",{className:J.transactionHeader,children:"Balance"}),(0,W.jsx)("p",{className:J.transactionData,children:u})]})]},t)}))}):(0,W.jsxs)("table",{className:J.transactionsTable,children:[(0,W.jsx)("thead",{children:(0,W.jsxs)("tr",{className:J.tableHeaderRow,children:[(0,W.jsx)("th",{className:J.tableHeaderData,children:"Date"}),(0,W.jsx)("th",{className:J.tableHeaderData,children:"Type"}),(0,W.jsx)("th",{className:J.tableHeaderData,children:"Category"}),(0,W.jsx)("th",{className:J.tableHeaderData,children:"Comment"}),(0,W.jsx)("th",{className:J.tableHeaderDataRight,children:"Sum"}),(0,W.jsx)("th",{className:J.tableHeaderDataRight,children:"Balance"})]})}),(0,W.jsx)("tbody",{className:J.tableBody,children:v.map((function(a,e,t){var s,c=a.id,r=a.transactionDate,o=a.type,d=a.categoryId,u=a.comment,m=a.amount,_=a.balanceAfter;return(0,W.jsxs)("tr",{children:[(0,W.jsx)("td",{className:"".concat(J.tableData," ").concat(0===e?J.firstTableData:""," ").concat(e===t.length-1?J.lastTableData:""),children:(0,l.default)((0,i.default)(r),"dd.MM.yyyy")}),(0,W.jsx)("td",{className:"".concat(J.tableData," ").concat(0===e?J.firstTableData:""," ").concat(e===t.length-1?J.lastTableData:""),children:"INCOME"===o?"+":"-"}),(0,W.jsx)("td",{className:"".concat(J.tableData," ").concat(0===e?J.firstTableData:""," ").concat(e===t.length-1?J.lastTableData:""),children:null===(s=n.find((function(a){return a.id===d})))||void 0===s?void 0:s.name}),(0,W.jsx)("td",{className:"".concat(J.tableData," ").concat(0===e?J.firstTableData:""," ").concat(e===t.length-1?J.lastTableData:""),children:u}),(0,W.jsx)("td",{className:"".concat("INCOME"===o?J.tableDataIncome:J.tableDataExpense," ").concat(0===e?J.firstTableData:""," ").concat(e===t.length-1?J.lastTableData:""),children:Math.abs(m)}),(0,W.jsx)("td",{className:"".concat(J.tableDataRight," ").concat(0===e?J.firstTableData:""," ").concat(e===t.length-1?J.lastTableData:""),children:_})]},c)}))})]})}}),a&&(0,W.jsx)($,{}),(0,W.jsx)(d.Ix,{})]})}},1054:function(a,n,e){e.r(n),e.d(n,{default:function(){return y},mediaQueries:function(){return g}});var t=e(2791),s=e(1087),c=e(7689),r=e(9143),o=e(885),i=e(9434),l=e(9104),d="Balance_card__N1Gq1",u="Balance_title__Xono1",m="Balance_result__0KQXr",_=e(184),h=function(){var a,n=(0,i.v9)(l.ig),e=(0,t.useState)(0),s=(0,o.Z)(e,2),c=s[0],r=s[1],h=null===(a=n[n.length-1])||void 0===a?void 0:a.balanceAfter;return(0,t.useEffect)((function(){h&&r(h)}),[h]),(0,_.jsxs)("div",{className:d,children:[(0,_.jsx)("p",{className:u,children:"Your balance"}),(0,_.jsxs)("p",{className:m,children:["\u20b4 ",c]})]})},x=e(5607),p=e(3884),b={container:"Wallet_container__dUf7n",balance:"Wallet_balance__IfjY6",navigation:"Wallet_navigation__bohIM",content:"Wallet_content__r+Au2",bar:"Wallet_bar__OhCIc"},f=e(1209),j=e(8880),v=e(2142),N="AddTransactionBtn_addButton__8-dbh",T=e(3779);function D(){var a=(0,i.I0)();return(0,_.jsx)("button",{type:"button",className:N,"aria-label":"add transaction button",onClick:function(){return a((0,v.$)())},children:(0,_.jsx)("svg",{width:20,height:20,children:(0,_.jsx)("use",{href:T.Z+"#icon-plus"})})})}var g={response:"(max-width: 479px)",mobile:"(min-width: 480px) and (max-width: 767px)",tablet:"(min-width: 768px) and (max-width: 1279px)",desktop:"(min-width: 1280px)"},y=function(){var a=(0,i.v9)(l.Yh),n=(0,i.I0)();(0,t.useEffect)((function(){n((0,j.f1)())}),[n]);var e=(0,c.TH)().pathname;return console.log(e),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("section",{className:b.container,children:[(0,_.jsxs)("div",{className:b.bar,children:[(0,_.jsxs)("div",{className:b.navigation,children:[(0,_.jsxs)("ul",{className:p.Z.nav,children:[(0,_.jsx)("li",{className:p.Z.navItem,children:(0,_.jsxs)(s.OL,{to:"home",className:p.Z.navLink,activeclassname:p.Z.navLinkActive,children:[(0,_.jsx)("div",{className:p.Z.iconWrapper,children:(0,_.jsx)("svg",{className:p.Z.svg,children:(0,_.jsx)("use",{href:"".concat(f.Z,"#icon-home")})})}),(0,_.jsx)("span",{className:p.Z.navText,children:"Home"})]})}),(0,_.jsx)("li",{className:p.Z.navItem,children:(0,_.jsxs)(s.OL,{to:"diagram",className:p.Z.navLink,activeclassname:p.Z.navLinkActive,children:[(0,_.jsx)("div",{className:p.Z.iconWrapper,children:(0,_.jsx)("svg",{className:p.Z.svg,children:(0,_.jsx)("use",{href:"".concat(f.Z,"#icon-statistic")})})}),(0,_.jsx)("span",{className:p.Z.navText,children:"Statistics"})]})}),(0,_.jsx)(x.Z,{queries:g,children:function(a){return(a.mobile||a.response)&&(0,_.jsx)("li",{className:p.Z.navItem,children:(0,_.jsx)(s.OL,{to:"currency",className:p.Z.navLink,activeclassname:p.Z.navLinkActive,children:(0,_.jsx)("div",{className:p.Z.iconWrapper,children:(0,_.jsx)("svg",{className:p.Z.svg,children:(0,_.jsx)("use",{href:"".concat(f.Z,"#icon-currency")})})})})})}})]}),(0,_.jsx)("div",{className:b.balance,children:"/wallet/currency"!==e&&(0,_.jsx)(h,{})})]}),(0,_.jsxs)("div",{className:b.currency,children:[(0,_.jsx)(x.Z,{queries:g,children:function(a){return(a.tablet||a.desktop)&&(0,_.jsx)(r.F,{})}}),(0,_.jsx)(x.Z,{queries:g,children:function(a){return(a.tablet||a.desktop)&&"/wallet/currency"===e&&(0,_.jsx)(c.Fg,{to:"/wallet/home"})}})]})]}),(0,_.jsx)("div",{className:b.content,children:(0,_.jsx)(t.Suspense,{children:(0,_.jsx)(c.j3,{})})})]}),(0,_.jsx)(x.Z,{queries:g,children:function(a){return(a.tablet||a.desktop)&&(0,_.jsx)(D,{})}}),(0,_.jsx)(x.Z,{queries:g,children:function(n){return(n.mobile||n.response)&&!a&&(0,_.jsx)(D,{})}})]})}},9104:function(a,n,e){e.d(n,{Yh:function(){return r},ig:function(){return t},us:function(){return s},zh:function(){return c}});var t=function(a){return a.transactions.transactions},s=function(a){return a.transactions.categories},c=function(a){return a.transactions.error},r=function(a){return a.transactions.isTransactionModalOpen}}}]);
//# sourceMappingURL=218.d264be3a.chunk.js.map