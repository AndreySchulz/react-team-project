"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[218,54],{3779:function(a,t,n){n(2791);t.Z=n.p+"static/media/transactionSprite.39e4ce06c63f00d03dae5b603deee49f.svg"},1218:function(a,t,n){n.r(t),n.d(t,{default:function(){return $}});var e=n(2982),s=n(885),c=n(2791),r=n(9434),i=n(3868),o=n(9831),l=n(1951),d=n(9085),u=(n(5462),n(5607)),m=n(8880),h=n(9104),_=n(5705),f=n(9513),x=n.n(f),p=n(2142),b=n(1724),v=(n(8639),"ModalAddTransaction_backdrop__9YaTy"),j="ModalAddTransaction_modal__Ds58Q",g="ModalAddTransaction_modalForm__+xHlN",T="ModalAddTransaction_closeBtn__PD4qb",N="ModalAddTransaction_modalTitle__5uy28",D="ModalAddTransaction_typeWrapper__zr9tr",y="ModalAddTransaction_typeCheckbox__5CM5W",I="ModalAddTransaction_customCheckbox__Lusq4",C="ModalAddTransaction_inactive__XoOqJ",Z="ModalAddTransaction_income__9Qunp ModalAddTransaction_inactive__XoOqJ",M="ModalAddTransaction_expense__FAXIm ModalAddTransaction_inactive__XoOqJ",E="ModalAddTransaction_typeLabel__xzRI4",w="ModalAddTransaction_amountAndDate__k5cLR",A="ModalAddTransaction_amountInput__qwGJd ModalAddTransaction_amountAndDateInputs__8QD0+",k="ModalAddTransaction_customDateInput__9YfM0 ModalAddTransaction_amountAndDateInputs__8QD0+",R="ModalAddTransaction_calendarIcon__L3BwY",B="ModalAddTransaction_commentInput__h66RA",S="ModalAddTransaction_btnWrapper__FnKSr",H="ModalAddTransaction_addBtn__73b0r",O="ModalAddTransaction_cancelBtn__Cun97 ModalAddTransaction_addBtn__73b0r",q="ModalAddTransaction_chevron__rQ39W",F="ModalAddTransaction_chevronTurn__B5KZn ModalAddTransaction_chevron__rQ39W",L=n(3779),W=n(184),Q=(0,c.forwardRef)((function(a,t){var n=a.value,e=a.onClick;return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("input",{value:n,className:k,onClick:e,onChange:e,ref:t,required:!0}),(0,W.jsx)("svg",{className:R,width:18,height:20,onClick:e,children:(0,W.jsx)("use",{href:L.Z+"#icon-calendar"})})]})})),X=n(1413),Y=n(5930),P=function(a){var t=a.selectProps;return(0,W.jsx)("div",{className:t.menuIsOpen?F:q})},z={control:function(){return{display:"flex",alignItems:"center",border:"none",borderRadius:"0",borderBottom:"1px solid #E0E0E0",padding:"8px",marginBottom:"40px",outline:"none",fontSize:"18px",lineHeight:"1.5",paddingLeft:"20px",":hover":{backgroundColor:"#ff659614"}}},placeholder:function(a){return(0,X.Z)((0,X.Z)({},a),{},{color:"#BDBDBD"})},option:function(a,t){var n=t.isFocused;return(0,X.Z)((0,X.Z)({},a),{},{backgroundColor:n&&"#fff",fontWeight:n&&"700",color:n&&"#FF6596",padding:"14px 0 17px"})},menu:function(a){return(0,X.Z)((0,X.Z)({},a),{},{fontSize:"18px",width:"100%",lineHeight:1.5,paddingLeft:"20px",backgroundColor:"#FFFFFFB2",backdropFilter:"blur(25px)",boxShadow:"0px 6px 15px rgba(0, 0, 0, 0.1)",borderRadius:"20px"})}};function K(a){var t=a.setCategoryId,n=(0,r.v9)(h.us).filter((function(a){return"EXPENSE"===a.type})).map((function(a){return{value:a.id,label:a.name}}));return(0,W.jsx)(Y.ZP,{options:n,onChange:function(a){return t(a.value)},placeholder:"Select a category",styles:z,unstyled:!0,components:{DropdownIndicator:P},required:!0})}function V(a){var t=a.editModalOpen,n=a.setEditModalOpen,e=a.transactionID,i=(0,c.useState)(new Date),o=(0,s.Z)(i,2),l=o[0],d=o[1],u=(0,c.useState)(""),h=(0,s.Z)(u,2),f=h[0],k=h[1],R=(0,r.I0)();(0,c.useEffect)((function(){R((0,m.CP)())}),[R]);var q=(0,c.useCallback)((function(){R((0,p.$)()),n(!1),R((0,m.f1)())}),[R,n]);(0,c.useEffect)((function(){var a=function(a){"Escape"===a.code&&q()};return document.addEventListener("keydown",a),function(){return document.removeEventListener("keydown",a)}}),[R,q]);var F=(0,_.TA)({initialValues:{type:!0,amount:"",comment:""},validationSchema:b.Ry({type:b.Xg(),amount:b.Rx().required("Required"),comment:b.Z_().max(40,"40 characters max")}),onSubmit:function(a){var n=a.type,s=a.amount,c=a.comment,r={transactionDate:l,comment:c,categoryId:n?f:"063f1132-ba5d-42b4-951d-44011ca46262",amount:n?-1*Number(s):Number(s),type:n?"EXPENSE":"INCOME"};R(t?(0,m.vF)({transactionID:e,newTransaction:r}):(0,m.dT)(r)),q()}}),L=F.handleChange,X=F.handleSubmit,Y=F.values,P=F.errors,z=F.touched;return(0,W.jsx)("div",{className:v,onClick:function(a){a.target===a.currentTarget&&q()},children:(0,W.jsxs)("div",{className:j,children:[(0,W.jsx)("button",{className:T,onClick:q,type:"button","aria-label":"close button"}),(0,W.jsxs)("form",{className:g,onSubmit:X,children:[(0,W.jsx)("h2",{className:N,children:t?"Edit Transaction":"Add transaction"}),(0,W.jsxs)("div",{className:D,children:[(0,W.jsx)("div",{className:Y.type?C:Z,children:"Income"}),(0,W.jsxs)("label",{className:E,children:[(0,W.jsx)("input",{className:y,name:"type",type:"checkbox",checked:Y.type,onChange:L}),(0,W.jsx)("div",{className:I})]}),(0,W.jsx)("div",{className:Y.type?M:C,children:"Expense"})]}),Y.type&&(0,W.jsx)(K,{setCategoryId:k}),z.categoryId&&P.categoryId?(0,W.jsx)("div",{children:P.categoryId}):null,(0,W.jsxs)("div",{className:w,children:[(0,W.jsx)("input",{className:A,name:"amount",type:"text",placeholder:"0.00",value:Y.amount,onChange:L,required:!0}),z.amount&&P.amount?(0,W.jsx)("div",{children:P.amount}):null,(0,W.jsx)(x(),{selected:l,dateFormat:"dd.MM.yyyy",calendarStartDay:1,onChange:d,customInput:(0,W.jsx)(Q,{})})]}),(0,W.jsx)("textarea",{className:B,name:"comment",type:"text",placeholder:"Comment",value:Y.comment,onChange:L}),z.comment&&P.comment?(0,W.jsx)("div",{children:P.comment}):null,(0,W.jsxs)("div",{className:S,children:[(0,W.jsx)("button",{className:H,type:"submit",children:t?"Edit":"Add"}),(0,W.jsx)("button",{className:O,type:"button",onClick:q,children:"Cancel"})]})]})]})})}var J={transactions:"Transactions_transactions__71ga-",transactionsTable:"Transactions_transactionsTable__dtPaD",tableHeaderData:"Transactions_tableHeaderData__mZexS",tableHeaderDataRight:"Transactions_tableHeaderDataRight__gujHp Transactions_tableHeaderData__mZexS",tableBody:"Transactions_tableBody__mnCJO",tableData:"Transactions_tableData__i3g3I",firstTableData:"Transactions_firstTableData__hSLhT",lastTableData:"Transactions_lastTableData__YuN01",tableDataRight:"Transactions_tableDataRight__k5pQt Transactions_tableData__i3g3I",tableDataIncome:"Transactions_tableDataIncome__YKGXQ Transactions_tableDataRight__k5pQt Transactions_tableData__i3g3I",tableDataExpense:"Transactions_tableDataExpense__X6kvt Transactions_tableDataRight__k5pQt Transactions_tableData__i3g3I",editBtn:"Transactions_editBtn__Cgz7S",editBtnIcon:"Transactions_editBtnIcon__i3WDp",mobTransaction:"Transactions_mobTransaction__yseD9",transactionRowIncome:"Transactions_transactionRowIncome__byqUX",transactionRowExpense:"Transactions_transactionRowExpense__Zo5ej Transactions_transactionRowIncome__byqUX",transactionHeader:"Transactions_transactionHeader__VeVKT",transactionData:"Transactions_transactionData__E0V3h",transactionDataIncome:"Transactions_transactionDataIncome__Ngq-x Transactions_transactionData__E0V3h",transactionDataExpense:"Transactions_transactionDataExpense__UjAqw Transactions_transactionData__E0V3h"},U=n(1054),G="";var $=function(){var a=(0,c.useState)(!1),t=(0,s.Z)(a,2),n=t[0],_=t[1],f=(0,c.useState)([]),x=(0,s.Z)(f,2),b=x[0],v=x[1],j=(0,r.v9)(h.Yh),g=(0,r.v9)(h.us),T=(0,r.v9)(h.ig),N=(0,r.v9)(h.zh),D=(0,r.I0)(),y=(0,c.useState)(!1),I=(0,s.Z)(y,2),C=I[0],Z=I[1];function M(a){var t="incr"===a.currentTarget.dataset.flag;if("Sum"===(null===a||void 0===a?void 0:a.target.textContent)){if(t)return v((function(a){return(0,e.Z)(a).sort((function(a,t){return Math.abs(t.amount)-Math.abs(a.amount)}))})),void(a.currentTarget.dataset.flag="decr");v((function(a){return(0,e.Z)(a).sort((function(a,t){return Math.abs(a.amount)-Math.abs(t.amount)}))})),a.currentTarget.dataset.flag="incr"}if("Date"===(null===a||void 0===a?void 0:a.target.textContent)){if(t)return v((function(a){return(0,e.Z)(a).sort((function(a,t){return(0,i.Z)((0,o.default)(t.transactionDate),(0,o.default)(a.transactionDate))}))})),void(a.currentTarget.dataset.flag="decr");v((function(a){return(0,e.Z)(a).sort((function(a,t){return(0,i.Z)((0,o.default)(a.transactionDate),(0,o.default)(t.transactionDate))}))})),a.currentTarget.dataset.flag="incr"}if("Type"===(null===a||void 0===a?void 0:a.target.textContent)){if(t)return v((function(a){return(0,e.Z)(a).sort((function(a,t){return t.type.localeCompare(a.type)}))})),void(a.currentTarget.dataset.flag="decr");v((function(a){return(0,e.Z)(a).sort((function(a,t){return a.type.localeCompare(t.type)}))})),a.currentTarget.dataset.flag="incr"}if("Category"===(null===a||void 0===a?void 0:a.target.textContent)){if(t)return v((function(a){return(0,e.Z)(a).sort((function(a,t){var n,e;return null===(n=g.find((function(a){return a.id===t.categoryId})))||void 0===n?void 0:n.name.localeCompare(null===(e=g.find((function(t){return t.id===a.categoryId})))||void 0===e?void 0:e.name)}))})),void(a.currentTarget.dataset.flag="decr");v((function(a){return(0,e.Z)(a).sort((function(a,t){var n,e;return null===(n=g.find((function(t){return t.id===a.categoryId})))||void 0===n?void 0:n.name.localeCompare(null===(e=g.find((function(a){return a.id===t.categoryId})))||void 0===e?void 0:e.name)}))})),a.currentTarget.dataset.flag="incr"}if("Balance"===(null===a||void 0===a?void 0:a.target.textContent)){if(t)return v((function(a){return(0,e.Z)(a).sort((function(a,t){return t.balanceAfter-a.balanceAfter}))})),void(a.currentTarget.dataset.flag="decr");v((function(a){return(0,e.Z)(a).sort((function(a,t){return a.balanceAfter-t.balanceAfter}))})),a.currentTarget.dataset.flag="incr"}}return window.matchMedia("(max-width: 767px)").addEventListener("change",(function(a){a.matches?Z(!0):Z(!1)})),(0,c.useEffect)((function(){D((0,m.CP)()),v((0,e.Z)(T).reverse().sort((function(a,t){return(0,i.Z)((0,o.default)(a.transactionDate),(0,o.default)(t.transactionDate))})))}),[D,T]),N&&d.Am.error(N),C&&(j?(document.body.style.overflow="hidden",document.body.style.position="fixed"):(document.body.style.overflow="visible",document.body.style.position="static")),(0,W.jsxs)("section",{className:J.transactions,children:[(0,W.jsx)(u.Z,{queries:U.mediaQueries,children:function(a){return a.mobile||a.response?(0,W.jsx)("div",{children:b.map((function(a){var t,n=a.id,e=a.transactionDate,s=a.type,c=a.categoryId,r=a.comment,i=a.amount,d=a.balanceAfter;return(0,W.jsxs)("div",{className:J.mobTransaction,children:[(0,W.jsxs)("div",{className:"INCOME"===s?J.transactionRowIncome:J.transactionRowExpense,children:[(0,W.jsx)("p",{className:J.transactionHeader,children:"Date"}),(0,W.jsx)("p",{className:J.transactionData,children:(0,l.default)((0,o.default)(e),"dd.MM.yyyy")})]}),(0,W.jsxs)("div",{className:"INCOME"===s?J.transactionRowIncome:J.transactionRowExpense,children:[(0,W.jsx)("p",{className:J.transactionHeader,children:"Type"}),(0,W.jsx)("p",{className:J.transactionData,children:"INCOME"===s?"+":"-"})]}),(0,W.jsxs)("div",{className:"INCOME"===s?J.transactionRowIncome:J.transactionRowExpense,children:[(0,W.jsx)("p",{className:J.transactionHeader,children:"Category"}),(0,W.jsx)("p",{className:J.transactionData,children:null===(t=g.find((function(a){return a.id===c})))||void 0===t?void 0:t.name})]}),(0,W.jsxs)("div",{className:"INCOME"===s?J.transactionRowIncome:J.transactionRowExpense,children:[(0,W.jsx)("p",{className:J.transactionHeader,children:"Comment"}),(0,W.jsx)("p",{className:J.transactionData,children:r})]}),(0,W.jsxs)("div",{className:"INCOME"===s?J.transactionRowIncome:J.transactionRowExpense,children:[(0,W.jsx)("p",{className:J.transactionHeader,children:"Sum"}),(0,W.jsx)("p",{className:"INCOME"===s?J.transactionDataIncome:J.transactionDataExpense,children:Math.abs(i)})]}),(0,W.jsxs)("div",{className:"INCOME"===s?J.transactionRowIncome:J.transactionRowExpense,children:[(0,W.jsx)("p",{className:J.transactionHeader,children:"Balance"}),(0,W.jsx)("p",{className:J.transactionData,children:d})]})]},n)}))}):(0,W.jsxs)("table",{className:J.transactionsTable,children:[(0,W.jsx)("thead",{children:(0,W.jsxs)("tr",{className:J.tableHeaderRow,children:[(0,W.jsx)("th",{className:J.tableHeaderData,onClick:M,"data-flag":"incr",children:"Date"}),(0,W.jsx)("th",{className:J.tableHeaderData,onClick:M,"data-flag":"incr",children:"Type"}),(0,W.jsx)("th",{className:J.tableHeaderData,onClick:function(a){return M(a)},"data-flag":"incr",children:"Category"}),(0,W.jsx)("th",{className:J.tableHeaderData,children:"Comment"}),(0,W.jsx)("th",{className:J.tableHeaderDataRight,"data-flag":"incr",onClick:M,children:"Sum"}),(0,W.jsx)("th",{className:J.tableHeaderDataRight,"data-flag":"incr",onClick:M,children:"Balance"}),(0,W.jsx)("th",{className:J.tableHeaderDataRight,children:"Edit"})]})}),(0,W.jsx)("tbody",{className:J.tableBody,children:b.map((function(a,t,n){var e,s=a.id,c=a.transactionDate,r=a.type,i=a.categoryId,d=a.comment,u=a.amount,h=a.balanceAfter;return(0,W.jsxs)("tr",{children:[(0,W.jsx)("td",{className:"".concat(J.tableData," ").concat(0===t?J.firstTableData:""," ").concat(t===n.length-1?J.lastTableData:""),children:(0,l.default)((0,o.default)(c),"dd.MM.yyyy")}),(0,W.jsx)("td",{className:"".concat(J.tableData," ").concat(0===t?J.firstTableData:""," ").concat(t===n.length-1?J.lastTableData:""),children:"INCOME"===r?"+":"-"}),(0,W.jsx)("td",{className:"".concat(J.tableData," ").concat(0===t?J.firstTableData:""," ").concat(t===n.length-1?J.lastTableData:""),children:null===(e=g.find((function(a){return a.id===i})))||void 0===e?void 0:e.name}),(0,W.jsx)("td",{className:"".concat(J.tableData," ").concat(0===t?J.firstTableData:""," ").concat(t===n.length-1?J.lastTableData:""),children:d}),(0,W.jsx)("td",{className:"".concat("INCOME"===r?J.tableDataIncome:J.tableDataExpense," ").concat(0===t?J.firstTableData:""," ").concat(t===n.length-1?J.lastTableData:""),children:Math.abs(u)}),(0,W.jsx)("td",{className:"".concat(J.tableDataRight," ").concat(0===t?J.firstTableData:""," ").concat(t===n.length-1?J.lastTableData:""),children:h}),(0,W.jsxs)("td",{className:"".concat(J.tableDataRight," ").concat(0===t?J.firstTableData:""," ").concat(t===n.length-1?J.lastTableData:""),children:[(0,W.jsx)("button",{className:J.editBtn,onClick:function(){G=s,D((0,p.$)()),_(!0)},type:"button",children:(0,W.jsx)("svg",{className:J.editBtnIcon,width:15,height:15,children:(0,W.jsx)("use",{href:"".concat(L.Z,"#icon-pencil")})})}),(0,W.jsx)("button",{className:J.editBtn,onClick:function(){return function(a){D((0,m.Ks)(a)),D((0,m.f1)())}(s)},type:"button",children:(0,W.jsx)("svg",{className:J.editBtnIcon,width:15,height:15,children:(0,W.jsx)("use",{href:"".concat(L.Z,"#icon-bin")})})})]})]},s)}))})]})}}),j&&(0,W.jsx)(V,{editModalOpen:n,setEditModalOpen:_,transactionID:G}),(0,W.jsx)(d.Ix,{})]})}},1054:function(a,t,n){n.r(t),n.d(t,{default:function(){return C},mediaQueries:function(){return I}});var e=n(2791),s=n(1087),c=n(7689),r=n(9143),i=n(885),o=n(9434),l=n(9104),d=n(3699),u="Balance_card__N1Gq1",m="Balance_title__Xono1",h="Balance_result__0KQXr",_=n(7382),f=n(184),x=function(){var a=(0,o.v9)(d.i4),t=(0,o.v9)(l.ig),n=(0,e.useState)(a),s=(0,i.Z)(n,2),c=s[0],r=s[1],x=(0,o.I0)();return(0,e.useEffect)((function(){x((0,_.refreshBalance)())}),[t]),(0,e.useEffect)((function(){r(a)}),[a]),(0,f.jsxs)("div",{className:u,children:[(0,f.jsx)("p",{className:m,children:"Your balance"}),(0,f.jsxs)("p",{className:h,children:["\u20b4 ",c]})]})},p=n(5607),b=n(3884),v={container:"Wallet_container__dUf7n",balance:"Wallet_balance__IfjY6",navigation:"Wallet_navigation__bohIM",content:"Wallet_content__r+Au2",bar:"Wallet_bar__OhCIc"},j=n(1209),g=n(8880),T=n(2142),N="AddTransactionBtn_addButton__8-dbh",D=n(3779);function y(){var a=(0,o.I0)();return(0,f.jsx)("button",{type:"button",className:N,"aria-label":"add transaction button",onClick:function(){return a((0,T.$)())},children:(0,f.jsx)("svg",{width:20,height:20,children:(0,f.jsx)("use",{href:D.Z+"#icon-plus"})})})}var I={response:"(max-width: 479px)",mobile:"(min-width: 480px) and (max-width: 767px)",tablet:"(min-width: 768px) and (max-width: 1279px)",desktop:"(min-width: 1280px)"},C=function(){var a=(0,o.v9)(l.Yh),t=(0,o.I0)();(0,e.useEffect)((function(){t((0,g.f1)())}),[t]);var n=(0,c.TH)().pathname;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("section",{className:v.container,children:[(0,f.jsxs)("div",{className:v.bar,children:[(0,f.jsxs)("div",{className:v.navigation,children:[(0,f.jsxs)("ul",{className:b.Z.nav,children:[(0,f.jsx)("li",{className:b.Z.navItem,children:(0,f.jsxs)(s.OL,{to:"home",className:b.Z.navLink,activeclassname:b.Z.navLinkActive,children:[(0,f.jsx)("div",{className:b.Z.iconWrapper,children:(0,f.jsx)("svg",{className:b.Z.svg,children:(0,f.jsx)("use",{href:"".concat(j.Z,"#icon-home")})})}),(0,f.jsx)("span",{className:b.Z.navText,children:"Home"})]})}),(0,f.jsx)("li",{className:b.Z.navItem,children:(0,f.jsxs)(s.OL,{to:"diagram",className:b.Z.navLink,activeclassname:b.Z.navLinkActive,children:[(0,f.jsx)("div",{className:b.Z.iconWrapper,children:(0,f.jsx)("svg",{className:b.Z.svg,children:(0,f.jsx)("use",{href:"".concat(j.Z,"#icon-statistic")})})}),(0,f.jsx)("span",{className:b.Z.navText,children:"Statistics"})]})}),(0,f.jsx)(p.Z,{queries:I,children:function(a){return(a.mobile||a.response)&&(0,f.jsx)("li",{className:b.Z.navItem,children:(0,f.jsx)(s.OL,{to:"currency",className:b.Z.navLink,activeclassname:b.Z.navLinkActive,children:(0,f.jsx)("div",{className:b.Z.iconWrapper,children:(0,f.jsx)("svg",{className:b.Z.svg,children:(0,f.jsx)("use",{href:"".concat(j.Z,"#icon-currency")})})})})})}})]}),(0,f.jsx)("div",{className:v.balance,children:"/wallet/currency"!==n&&(0,f.jsx)(x,{})})]}),(0,f.jsxs)("div",{className:v.currency,children:[(0,f.jsx)(p.Z,{queries:I,children:function(a){return(a.tablet||a.desktop)&&(0,f.jsx)(r.F,{})}}),(0,f.jsx)(p.Z,{queries:I,children:function(a){return(a.tablet||a.desktop)&&"/wallet/currency"===n&&(0,f.jsx)(c.Fg,{to:"/wallet/home"})}})]})]}),(0,f.jsx)("div",{className:v.content,children:(0,f.jsx)(e.Suspense,{children:(0,f.jsx)(c.j3,{})})})]}),(0,f.jsx)(p.Z,{queries:I,children:function(a){return(a.tablet||a.desktop)&&(0,f.jsx)(y,{})}}),(0,f.jsx)(p.Z,{queries:I,children:function(t){return(t.mobile||t.response)&&!a&&(0,f.jsx)(y,{})}})]})}},9104:function(a,t,n){n.d(t,{Yh:function(){return r},ig:function(){return e},us:function(){return s},zh:function(){return c}});var e=function(a){return a.transactions.transactions},s=function(a){return a.transactions.categories},c=function(a){return a.transactions.error},r=function(a){return a.transactions.isTransactionModalOpen}}}]);
//# sourceMappingURL=218.eab06768.chunk.js.map