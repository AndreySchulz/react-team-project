"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[218,54],{3779:function(a,n,t){t(2791);n.Z=t.p+"static/media/transactionSprite.f81084fa89e2f71405e24f42db60dd15.svg"},1218:function(a,n,t){t.r(n),t.d(n,{default:function(){return U}});var e=t(2982),s=t(2791),c=t(9434),r=t(3868),o=t(9831),i=t(1951),l=t(9085),d=(t(5462),t(5607)),m=t(8880),u=t(9104),_=t(885),h=t(5705),x=t(9513),p=t.n(x),b=t(2142),f=t(1724),j=(t(8639),"ModalAddTransaction_backdrop__9YaTy"),v="ModalAddTransaction_modal__Ds58Q",N="ModalAddTransaction_modalForm__+xHlN",T="ModalAddTransaction_closeBtn__PD4qb",D="ModalAddTransaction_modalTitle__5uy28",g="ModalAddTransaction_typeWrapper__zr9tr",y="ModalAddTransaction_typeCheckbox__5CM5W",I="ModalAddTransaction_customCheckbox__Lusq4",M="ModalAddTransaction_inactive__XoOqJ",C="ModalAddTransaction_income__9Qunp ModalAddTransaction_inactive__XoOqJ",E="ModalAddTransaction_expense__FAXIm ModalAddTransaction_inactive__XoOqJ",A="ModalAddTransaction_typeLabel__xzRI4",Z="ModalAddTransaction_amountAndDate__k5cLR",w="ModalAddTransaction_amountInput__qwGJd ModalAddTransaction_amountAndDateInputs__8QD0+",k="ModalAddTransaction_customDateInput__9YfM0 ModalAddTransaction_amountAndDateInputs__8QD0+",R="ModalAddTransaction_calendarIcon__L3BwY",H="ModalAddTransaction_commentInput__h66RA",S="ModalAddTransaction_btnWrapper__FnKSr",B="ModalAddTransaction_addBtn__73b0r",O="ModalAddTransaction_cancelBtn__Cun97 ModalAddTransaction_addBtn__73b0r",q="ModalAddTransaction_chevron__rQ39W",F="ModalAddTransaction_chevronTurn__B5KZn ModalAddTransaction_chevron__rQ39W",L=t(3779),Q=t(184),X=(0,s.forwardRef)((function(a,n){var t=a.value,e=a.onClick;return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("input",{value:t,className:k,onClick:e,onChange:e,ref:n,required:!0}),(0,Q.jsx)("svg",{className:R,width:18,height:20,onClick:e,children:(0,Q.jsx)("use",{href:L.Z+"#icon-calendar"})})]})})),W=t(1413),P=t(2976),Y=function(a){var n=a.selectProps;return(0,Q.jsx)("div",{className:n.menuIsOpen?F:q})},z={control:function(){return{display:"flex",alignItems:"center",border:"none",borderRadius:"0",borderBottom:"1px solid #E0E0E0",padding:"8px",marginBottom:"40px",outline:"none",fontSize:"18px",lineHeight:"1.5",paddingLeft:"20px",":hover":{backgroundColor:"#ff659614"}}},placeholder:function(a){return(0,W.Z)((0,W.Z)({},a),{},{color:"#BDBDBD"})},option:function(a,n){var t=n.isFocused;return(0,W.Z)((0,W.Z)({},a),{},{backgroundColor:t&&"#fff",fontWeight:t&&"700",color:t&&"#FF6596",padding:"14px 0 17px"})},menu:function(a){return(0,W.Z)((0,W.Z)({},a),{},{fontSize:"18px",width:"100%",lineHeight:1.5,paddingLeft:"20px",backgroundColor:"#FFFFFFB2",backdropFilter:"blur(25px)",boxShadow:"0px 6px 15px rgba(0, 0, 0, 0.1)",borderRadius:"20px"})}};function V(a){var n=a.setCategoryId,t=(0,c.v9)(u.us).filter((function(a){return"EXPENSE"===a.type})).map((function(a){return{value:a.id,label:a.name}}));return(0,Q.jsx)(P.ZP,{options:t,onChange:function(a){return n(a.value)},placeholder:"Select a category",styles:z,unstyled:!0,components:{DropdownIndicator:Y},required:!0})}function $(){var a=(0,s.useState)(new Date),n=(0,_.Z)(a,2),t=n[0],e=n[1],r=(0,s.useState)(""),o=(0,_.Z)(r,2),i=o[0],l=o[1],d=(0,c.I0)();(0,s.useEffect)((function(){d((0,m.CP)())}),[d]),(0,s.useEffect)((function(){var a=function(a){"Escape"===a.code&&d((0,b.$)())};return document.addEventListener("keydown",a),function(){return document.removeEventListener("keydown",a)}}),[d]);var u=(0,h.TA)({initialValues:{type:!0,amount:"",comment:""},validationSchema:f.Ry({type:f.Xg(),amount:f.Rx().required("Required"),comment:f.Z_().max(40,"40 characters max")}),onSubmit:function(a){var n=a.type,e=a.amount,s=a.comment,c={transactionDate:t,comment:s,categoryId:n?i:"063f1132-ba5d-42b4-951d-44011ca46262",amount:n?-1*Number(e):Number(e),type:n?"EXPENSE":"INCOME"};d((0,m.dT)(c)),d((0,b.$)())}}),x=u.handleChange,k=u.handleSubmit,R=u.values,q=u.errors,F=u.touched;return(0,Q.jsx)("div",{className:j,onClick:function(a){a.target===a.currentTarget&&d((0,b.$)())},children:(0,Q.jsxs)("div",{className:v,children:[(0,Q.jsx)("button",{className:T,onClick:function(){return d((0,b.$)())},type:"button","aria-label":"close button"}),(0,Q.jsxs)("form",{className:N,onSubmit:k,children:[(0,Q.jsx)("h2",{className:D,children:"Add transaction"}),(0,Q.jsxs)("div",{className:g,children:[(0,Q.jsx)("div",{className:R.type?M:C,children:"Income"}),(0,Q.jsxs)("label",{className:A,children:[(0,Q.jsx)("input",{className:y,name:"type",type:"checkbox",checked:R.type,onChange:x}),(0,Q.jsx)("div",{className:I})]}),(0,Q.jsx)("div",{className:R.type?E:M,children:"Expense"})]}),R.type&&(0,Q.jsx)(V,{setCategoryId:l}),F.categoryId&&q.categoryId?(0,Q.jsx)("div",{children:q.categoryId}):null,(0,Q.jsxs)("div",{className:Z,children:[(0,Q.jsx)("input",{className:w,name:"amount",type:"text",placeholder:"0.00",value:R.amount,onChange:x,required:!0}),F.amount&&q.amount?(0,Q.jsx)("div",{children:q.amount}):null,(0,Q.jsx)(p(),{selected:t,dateFormat:"dd.MM.yyyy",calendarStartDay:1,onChange:e,customInput:(0,Q.jsx)(X,{})})]}),(0,Q.jsx)("textarea",{className:H,name:"comment",type:"text",placeholder:"Comment",value:R.comment,onChange:x}),F.comment&&q.comment?(0,Q.jsx)("div",{children:q.comment}):null,(0,Q.jsxs)("div",{className:S,children:[(0,Q.jsx)("button",{className:B,type:"submit",children:"Add"}),(0,Q.jsx)("button",{className:O,type:"button",onClick:function(){return d((0,b.$)())},children:"Cancel"})]})]})]})})}var J={transactions:"Transactions_transactions__71ga-",transactionsTable:"Transactions_transactionsTable__dtPaD",tableHeaderData:"Transactions_tableHeaderData__mZexS",tableHeaderDataRight:"Transactions_tableHeaderDataRight__gujHp Transactions_tableHeaderData__mZexS",tableBody:"Transactions_tableBody__mnCJO",tableData:"Transactions_tableData__i3g3I",firstTableData:"Transactions_firstTableData__hSLhT",lastTableData:"Transactions_lastTableData__YuN01",tableDataRight:"Transactions_tableDataRight__k5pQt Transactions_tableData__i3g3I",tableDataIncome:"Transactions_tableDataIncome__YKGXQ Transactions_tableDataRight__k5pQt Transactions_tableData__i3g3I",tableDataExpense:"Transactions_tableDataExpense__X6kvt Transactions_tableDataRight__k5pQt Transactions_tableData__i3g3I",mobTableContainer:"Transactions_mobTableContainer__uF3Hm",mobTransaction:"Transactions_mobTransaction__yseD9",transactionRowIncome:"Transactions_transactionRowIncome__byqUX",transactionRowExpense:"Transactions_transactionRowExpense__Zo5ej Transactions_transactionRowIncome__byqUX",transactionHeader:"Transactions_transactionHeader__VeVKT",transactionData:"Transactions_transactionData__E0V3h",transactionDataIncome:"Transactions_transactionDataIncome__Ngq-x Transactions_transactionData__E0V3h",transactionDataExpense:"Transactions_transactionDataExpense__UjAqw Transactions_transactionData__E0V3h"},K=t(1054);var U=function(){var a=(0,c.v9)(u.Yh),n=(0,c.v9)(u.us),t=(0,c.v9)(u.ig),_=(0,c.v9)(u.zh),h=(0,c.I0)();(0,s.useEffect)((function(){h((0,m.CP)())}),[h]);var x=(0,e.Z)(t).sort((function(a,n){return(0,r.Z)((0,o.default)(a.transactionDate),(0,o.default)(n.transactionDate))}));return _&&l.Am.error(_),a?(document.body.style.overflow="hidden",document.body.style.position="fixed"):(document.body.style.overflow="visible",document.body.style.position="static"),(0,Q.jsxs)("section",{className:J.transactions,children:[(0,Q.jsx)(d.Z,{queries:K.mediaQueries,children:function(a){return a.mobile||a.response?(0,Q.jsx)("div",{className:J.mobTableContainer,children:x.map((function(a){var t,e=a.id,s=a.transactionDate,c=a.type,r=a.categoryId,l=a.comment,d=a.amount,m=a.balanceAfter;return(0,Q.jsxs)("div",{className:J.mobTransaction,children:[(0,Q.jsxs)("div",{className:"INCOME"===c?J.transactionRowIncome:J.transactionRowExpense,children:[(0,Q.jsx)("p",{className:J.transactionHeader,children:"Date"}),(0,Q.jsx)("p",{className:J.transactionData,children:(0,i.default)((0,o.default)(s),"dd.MM.yyyy")})]}),(0,Q.jsxs)("div",{className:"INCOME"===c?J.transactionRowIncome:J.transactionRowExpense,children:[(0,Q.jsx)("p",{className:J.transactionHeader,children:"Type"}),(0,Q.jsx)("p",{className:J.transactionData,children:"INCOME"===c?"+":"-"})]}),(0,Q.jsxs)("div",{className:"INCOME"===c?J.transactionRowIncome:J.transactionRowExpense,children:[(0,Q.jsx)("p",{className:J.transactionHeader,children:"Category"}),(0,Q.jsx)("p",{className:J.transactionData,children:null===(t=n.find((function(a){return a.id===r})))||void 0===t?void 0:t.name})]}),(0,Q.jsxs)("div",{className:"INCOME"===c?J.transactionRowIncome:J.transactionRowExpense,children:[(0,Q.jsx)("p",{className:J.transactionHeader,children:"Comment"}),(0,Q.jsx)("p",{className:J.transactionData,children:l})]}),(0,Q.jsxs)("div",{className:"INCOME"===c?J.transactionRowIncome:J.transactionRowExpense,children:[(0,Q.jsx)("p",{className:J.transactionHeader,children:"Sum"}),(0,Q.jsx)("p",{className:"INCOME"===c?J.transactionDataIncome:J.transactionDataExpense,children:Math.abs(d)})]}),(0,Q.jsxs)("div",{className:"INCOME"===c?J.transactionRowIncome:J.transactionRowExpense,children:[(0,Q.jsx)("p",{className:J.transactionHeader,children:"Balance"}),(0,Q.jsx)("p",{className:J.transactionData,children:m})]})]},e)}))}):(0,Q.jsxs)("table",{className:J.transactionsTable,children:[(0,Q.jsx)("thead",{children:(0,Q.jsxs)("tr",{className:J.tableHeaderRow,children:[(0,Q.jsx)("th",{className:J.tableHeaderData,children:"Date"}),(0,Q.jsx)("th",{className:J.tableHeaderData,children:"Type"}),(0,Q.jsx)("th",{className:J.tableHeaderData,children:"Category"}),(0,Q.jsx)("th",{className:J.tableHeaderData,children:"Comment"}),(0,Q.jsx)("th",{className:J.tableHeaderDataRight,children:"Sum"}),(0,Q.jsx)("th",{className:J.tableHeaderDataRight,children:"Balance"})]})}),(0,Q.jsx)("tbody",{className:J.tableBody,children:x.map((function(a,t,e){var s,c=a.id,r=a.transactionDate,l=a.type,d=a.categoryId,m=a.comment,u=a.amount,_=a.balanceAfter;return(0,Q.jsxs)("tr",{children:[(0,Q.jsx)("td",{className:"".concat(J.tableData," ").concat(0===t?J.firstTableData:""," ").concat(t===e.length-1?J.lastTableData:""),children:(0,i.default)((0,o.default)(r),"dd.MM.yyyy")}),(0,Q.jsx)("td",{className:"".concat(J.tableData," ").concat(0===t?J.firstTableData:""," ").concat(t===e.length-1?J.lastTableData:""),children:"INCOME"===l?"+":"-"}),(0,Q.jsx)("td",{className:"".concat(J.tableData," ").concat(0===t?J.firstTableData:""," ").concat(t===e.length-1?J.lastTableData:""),children:null===(s=n.find((function(a){return a.id===d})))||void 0===s?void 0:s.name}),(0,Q.jsx)("td",{className:"".concat(J.tableData," ").concat(0===t?J.firstTableData:""," ").concat(t===e.length-1?J.lastTableData:""),children:m}),(0,Q.jsx)("td",{className:"".concat("INCOME"===l?J.tableDataIncome:J.tableDataExpense," ").concat(0===t?J.firstTableData:""," ").concat(t===e.length-1?J.lastTableData:""),children:Math.abs(u)}),(0,Q.jsx)("td",{className:"".concat(J.tableDataRight," ").concat(0===t?J.firstTableData:""," ").concat(t===e.length-1?J.lastTableData:""),children:_})]},c)}))})]})}}),a&&(0,Q.jsx)($,{}),(0,Q.jsx)(l.Ix,{})]})}},1054:function(a,n,t){t.r(n),t.d(n,{default:function(){return M},mediaQueries:function(){return I}});var e=t(2791),s=t(1087),c=t(7689),r=t(2113),o=t(885),i=t(9434),l=t(9104),d=t(3699),m="Balance_card__N1Gq1",u="Balance_title__Xono1",_="Balance_result__0KQXr",h=t(184),x=function(){var a,n=(0,i.v9)(d.i4),t=(0,i.v9)(l.ig),s=(0,e.useState)(n),c=(0,o.Z)(s,2),r=c[0],x=c[1],p=null===(a=t[t.length-1])||void 0===a?void 0:a.balanceAfter;return(0,e.useEffect)((function(){p&&x(p)}),[p]),(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("p",{className:u,children:"\u0412\u0430\u0448 \u0431\u0430\u043b\u0430\u043d\u0441"}),(0,h.jsxs)("p",{className:_,children:["\u20b4 ",r]})]})},p=t(5607),b=t(3884),f="Wallet_container__dUf7n",j="Wallet_bar__OhCIc",v=t(1209),N=t(8880),T=t(2142),D="AddTransactionBtn_addButton__8-dbh",g=t(3779);function y(){var a=(0,i.I0)();return(0,h.jsx)("button",{type:"button",className:D,"aria-label":"add transaction button",onClick:function(){return a((0,T.$)())},children:(0,h.jsx)("svg",{width:20,height:20,children:(0,h.jsx)("use",{href:g.Z+"#icon-plus"})})})}var I={response:"(max-width: 479px)",mobile:"(min-width: 480px) and (max-width: 767px)",tablet:"(min-width: 768px) and (max-width: 1279px)",desktop:"(min-width: 1280px)"},M=function(){var a=(0,i.v9)(l.Yh),n=(0,i.I0)();return(0,e.useEffect)((function(){n((0,N.f1)())}),[n]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("section",{className:f,children:[(0,h.jsxs)("div",{className:j,children:[(0,h.jsxs)("ul",{className:b.Z.nav,children:[(0,h.jsx)("li",{className:b.Z.navItem,children:(0,h.jsxs)(s.OL,{to:"home",className:b.Z.navLink,activeclassname:b.Z.navLinkActive,children:[(0,h.jsx)("div",{className:b.Z.iconWrapper,children:(0,h.jsx)("svg",{className:b.Z.svg,children:(0,h.jsx)("use",{href:"".concat(v.Z,"#icon-home")})})}),(0,h.jsx)("span",{className:b.Z.navText,children:"Home"})]})}),(0,h.jsx)("li",{className:b.Z.navItem,children:(0,h.jsxs)(s.OL,{to:"diagram",className:b.Z.navLink,activeclassname:b.Z.navLinkActive,children:[(0,h.jsx)("div",{className:b.Z.iconWrapper,children:(0,h.jsx)("svg",{className:b.Z.svg,children:(0,h.jsx)("use",{href:"".concat(v.Z,"#icon-statistic")})})}),(0,h.jsx)("span",{className:b.Z.navText,children:"Statistics"})]})}),(0,h.jsx)(p.Z,{queries:I,children:function(a){return(a.mobile||a.response)&&(0,h.jsx)("li",{className:b.Z.navItem,children:(0,h.jsx)(s.OL,{to:"currency",className:b.Z.navLink,activeclassname:b.Z.navLinkActive,children:(0,h.jsx)("div",{className:b.Z.iconWrapper,children:(0,h.jsx)("svg",{className:b.Z.svg,children:(0,h.jsx)("use",{href:"".concat(v.Z,"#icon-currency")})})})})})}})]}),(0,h.jsx)(x,{}),(0,h.jsx)(p.Z,{queries:I,children:function(a){return(a.tablet||a.desktop)&&(0,h.jsx)(r.F,{})}})]}),(0,h.jsx)("div",{children:(0,h.jsx)(e.Suspense,{children:(0,h.jsx)(c.j3,{})})})]}),(0,h.jsx)(p.Z,{queries:I,children:function(n){return(n.mobile||n.response)&&!a&&(0,h.jsx)(y,{})}})]})}},9104:function(a,n,t){t.d(n,{Yh:function(){return r},ig:function(){return e},us:function(){return s},zh:function(){return c}});var e=function(a){return a.transactions.transactions},s=function(a){return a.transactions.categories},c=function(a){return a.transactions.error},r=function(a){return a.transactions.isTransactionModalOpen}}}]);
//# sourceMappingURL=218.31710541.chunk.js.map