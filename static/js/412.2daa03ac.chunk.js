"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[412],{4412:function(a,t,e){e.r(t),e.d(t,{default:function(){return $}});var n=e(2982),s=e(2791),c=e(9434),o=e(3868),r=e(9831),d=e(1951),l=e(9085),i=(e(5462),e(8880)),u=e(9104),_=e(2142),m=e(885),h=e(5705),b=e(9513),T=e.n(b),x=e(1724),p=(e(8639),"ModalAddTransaction_backdrop__9YaTy"),f="ModalAddTransaction_modal__Ds58Q",D="ModalAddTransaction_modalForm__+xHlN",j="ModalAddTransaction_closeBtn__PD4qb",g="ModalAddTransaction_modalTitle__5uy28",y="ModalAddTransaction_typeWrapper__zr9tr",v="ModalAddTransaction_typeCheckbox__5CM5W",N="ModalAddTransaction_customCheckbox__Lusq4",M="ModalAddTransaction_inactive__XoOqJ",A="ModalAddTransaction_income__9Qunp ModalAddTransaction_inactive__XoOqJ",I="ModalAddTransaction_expense__FAXIm ModalAddTransaction_inactive__XoOqJ",C="ModalAddTransaction_typeLabel__xzRI4",k="ModalAddTransaction_select__WguZ7",E="ModalAddTransaction_selectPlaceholder__-fYb-",R="ModalAddTransaction_amountAndDate__k5cLR",H="ModalAddTransaction_amountInput__qwGJd ModalAddTransaction_amountAndDateInputs__8QD0+",S="ModalAddTransaction_customDateInput__9YfM0 ModalAddTransaction_amountAndDateInputs__8QD0+",q="ModalAddTransaction_calendarIcon__L3BwY",w="ModalAddTransaction_commentInput__h66RA",B="ModalAddTransaction_btnWrapper__FnKSr",X="ModalAddTransaction_addBtn__73b0r",L="ModalAddTransaction_cancelBtn__Cun97 ModalAddTransaction_addBtn__73b0r";var O=e.p+"static/media/transactionSprite.f81084fa89e2f71405e24f42db60dd15.svg",Q=e(184),Y=(0,s.forwardRef)((function(a,t){var e=a.value,n=a.onClick;return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("input",{value:e,className:S,onClick:n,onChange:n,ref:t,required:!0}),(0,Q.jsx)("svg",{className:q,width:18,height:20,onClick:n,children:(0,Q.jsx)("use",{href:O+"#icon-calendar"})})]})}));function Z(){var a=(0,s.useState)(new Date),t=(0,m.Z)(a,2),e=t[0],n=t[1],o=(0,c.I0)();(0,s.useEffect)((function(){o((0,i.CP)())}),[o]),(0,s.useEffect)((function(){var a=function(a){"Escape"===a.code&&o((0,_.$)())};return document.addEventListener("keydown",a),function(){return document.removeEventListener("keydown",a)}}),[o]);var r=(0,c.v9)(u.us),d=(0,h.TA)({initialValues:{type:!0,amount:"",comment:"",categoryId:""},validationSchema:x.Ry({type:x.Xg(),amount:x.Rx().required("Required"),comment:x.Z_().max(40,"40 characters max"),categoryId:x.Z_().required("Required")}),onSubmit:function(a){var t=a.categoryId,n=a.type,s=a.amount,c=a.comment,r={transactionDate:e,comment:c,categoryId:n?t:"063f1132-ba5d-42b4-951d-44011ca46262",amount:n?-1*Number(s):Number(s),type:n?"EXPENSE":"INCOME"};o((0,i.dT)(r)),o((0,_.$)())}}),l=d.handleChange,b=d.handleSubmit,S=d.values,q=d.errors,O=d.touched;return(0,Q.jsx)("div",{className:p,onClick:function(a){a.target===a.currentTarget&&o((0,_.$)())},children:(0,Q.jsxs)("div",{className:f,children:[(0,Q.jsx)("button",{className:j,onClick:function(){return o((0,_.$)())},type:"button","aria-label":"close button"}),(0,Q.jsxs)("form",{className:D,onSubmit:b,children:[(0,Q.jsx)("h2",{className:g,children:"Add transaction"}),(0,Q.jsxs)("div",{className:y,children:[(0,Q.jsx)("div",{className:S.type?M:A,children:"Income"}),(0,Q.jsxs)("label",{className:C,children:[(0,Q.jsx)("input",{className:v,name:"type",type:"checkbox",checked:S.type,onChange:l}),(0,Q.jsx)("div",{className:N})]}),(0,Q.jsx)("div",{className:S.type?I:M,children:"Expense"})]}),S.type&&(0,Q.jsxs)("select",{className:k,name:"categoryId",value:S.categoryId,onChange:l,required:!0,children:[(0,Q.jsx)("option",{className:E,value:"",disabled:!0,hidden:!0,children:"Select your option"}),r.map((function(a){return"EXPENSE"===a.type?(0,Q.jsx)("option",{value:a.id,children:a.name},a.id):null}))]}),O.categoryId&&q.categoryId?(0,Q.jsx)("div",{children:q.categoryId}):null,(0,Q.jsxs)("div",{className:R,children:[(0,Q.jsx)("input",{className:H,name:"amount",type:"text",placeholder:"0.00",value:S.amount,onChange:l,required:!0}),O.amount&&q.amount?(0,Q.jsx)("div",{children:q.amount}):null,(0,Q.jsx)(T(),{selected:e,dateFormat:"dd.MM.yyyy",calendarStartDay:1,onChange:n,customInput:(0,Q.jsx)(Y,{})})]}),(0,Q.jsx)("input",{className:w,name:"comment",type:"text",placeholder:"Comment",value:S.comment,onChange:l}),O.comment&&q.comment?(0,Q.jsx)("div",{children:q.comment}):null,(0,Q.jsxs)("div",{className:B,children:[(0,Q.jsx)("button",{className:X,type:"submit",children:"Add"}),(0,Q.jsx)("button",{className:L,type:"button",onClick:function(){return o((0,_.$)())},children:"Cancel"})]})]})]})})}var P={transactions:"Transactions_transactions__71ga-",transactionsTable:"Transactions_transactionsTable__dtPaD",tableHeader:"Transactions_tableHeader__Cpqjv",tableHeaderData:"Transactions_tableHeaderData__mZexS",tableHeaderDataRight:"Transactions_tableHeaderDataRight__gujHp Transactions_tableHeaderData__mZexS",tableBody:"Transactions_tableBody__mnCJO",tableData:"Transactions_tableData__i3g3I",firstTableData:"Transactions_firstTableData__hSLhT",lastTableData:"Transactions_lastTableData__YuN01",tableDataRight:"Transactions_tableDataRight__k5pQt Transactions_tableData__i3g3I",tableDataIncome:"Transactions_tableDataIncome__YKGXQ Transactions_tableDataRight__k5pQt Transactions_tableData__i3g3I",tableDataExpense:"Transactions_tableDataExpense__X6kvt Transactions_tableDataRight__k5pQt Transactions_tableData__i3g3I",addButton:"Transactions_addButton__cRmgL"},$=function(){var a=(0,c.v9)(u.Yh),t=(0,c.v9)(u.us),e=(0,c.v9)(u.ig),m=(0,c.v9)(u.zh),h=(0,c.I0)();(0,s.useEffect)((function(){h((0,i.CP)())}),[h]);var b=(0,n.Z)(e).sort((function(a,t){return(0,o.Z)((0,r.default)(a.transactionDate),(0,r.default)(t.transactionDate))}));return m&&l.Am.error(m),(0,Q.jsxs)("section",{className:P.transactions,children:[(0,Q.jsxs)("table",{className:P.transactionsTable,children:[(0,Q.jsx)("thead",{className:P.tableHeader,children:(0,Q.jsxs)("tr",{className:P.tableHeaderRow,children:[(0,Q.jsx)("th",{className:P.tableHeaderData,children:"Date"}),(0,Q.jsx)("th",{className:P.tableHeaderData,children:"Type"}),(0,Q.jsx)("th",{className:P.tableHeaderData,children:"Category"}),(0,Q.jsx)("th",{className:P.tableHeaderData,children:"Comment"}),(0,Q.jsx)("th",{className:P.tableHeaderDataRight,children:"Sum"}),(0,Q.jsx)("th",{className:P.tableHeaderDataRight,children:"Balance"})]})}),(0,Q.jsx)("tbody",{className:P.tableBody,children:b.map((function(a,e,n){var s,c=a.id,o=a.transactionDate,l=a.type,i=a.categoryId,u=a.comment,_=a.amount,m=a.balanceAfter;return(0,Q.jsxs)("tr",{children:[(0,Q.jsx)("td",{className:"".concat(P.tableData," ").concat(0===e&&P.firstTableData," ").concat(e===n.length-1&&P.lastTableData),children:(0,d.default)((0,r.default)(o),"dd.MM.yyyy")}),(0,Q.jsx)("td",{className:"".concat(P.tableData," ").concat(0===e&&P.firstTableData," ").concat(e===n.length-1&&P.lastTableData),children:"INCOME"===l?"+":"-"}),(0,Q.jsx)("td",{className:"".concat(P.tableData," ").concat(0===e&&P.firstTableData," ").concat(e===n.length-1&&P.lastTableData),children:null===(s=t.find((function(a){return a.id===i})))||void 0===s?void 0:s.name}),(0,Q.jsx)("td",{className:"".concat(P.tableData," ").concat(0===e&&P.firstTableData," ").concat(e===n.length-1&&P.lastTableData),children:u}),(0,Q.jsx)("td",{className:"".concat("INCOME"===l?P.tableDataIncome:P.tableDataExpense," ").concat(0===e&&P.firstTableData," ").concat(e===n.length-1&&P.lastTableData),children:Math.abs(_)}),(0,Q.jsx)("td",{className:"".concat(P.tableDataRight," ").concat(0===e&&P.firstTableData," ").concat(e===n.length-1&&P.lastTableData),children:m})]},c)}))})]}),(0,Q.jsx)("button",{type:"button",className:P.addButton,"aria-label":"add transaction button",onClick:function(){return h((0,_.$)())},children:(0,Q.jsx)("svg",{width:20,height:20,children:(0,Q.jsx)("use",{href:O+"#icon-plus"})})}),a&&(0,Q.jsx)(Z,{}),(0,Q.jsx)(l.Ix,{})]})}},9104:function(a,t,e){e.d(t,{Yh:function(){return o},ig:function(){return n},us:function(){return s},zh:function(){return c}});var n=function(a){return a.transactions.transactions},s=function(a){return a.transactions.categories},c=function(a){return a.transactions.error},o=function(a){return a.transactions.isTransactionModalOpen}}}]);
//# sourceMappingURL=412.2daa03ac.chunk.js.map